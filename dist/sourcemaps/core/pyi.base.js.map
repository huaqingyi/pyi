{"version":3,"sources":["core/pyi.base.ts"],"names":[],"mappings":";;AAIA,MAAsB,OAAO;IAmCzB;QACI,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;IACzB,CAAC;IAnCM,MAAM,CAAC,IAAI;QACd,OAAO,EAAE,CAAC;IACd,CAAC;IAEM,MAAM,CAAC,MAAM;QAChB,OAAO,OAAO,CAAC;IACnB,CAAC;IAEM,MAAM,CAAC,SAAS,CACnB,SAA+B,EAAE,EAAmB;QAEpD,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC9B,MAAM,UAAU,GAAG,IAAI,SAAS,EAAE,CAAC;QACnC,MAAM,EAAE,GAAiB,UAAU,CAAC,MAAM,EAAE,CAAC;QAC7C,IAAI,EAAE,EAAE;YACJ,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;gBACpB,OAAO,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC;gBACxC,uBAAuB;YAC3B,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;gBACb,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,UAAU,CAAC;gBACrC,OAAO,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;gBACjE,gDAAgD;YACpD,CAAC,CAAC,CAAC;SACN;aAAM;YACH,OAAO,EAAE,CAAC;SACb;QACD,0CAA0C;IAC9C,CAAC;CASJ;AAtCD,0BAsCC","file":"../../core/pyi.base.js","sourcesContent":["import { Context } from 'koa';\nimport { AppConfigOption } from '../config';\nimport { PYIVo } from '../decorators';\n\nexport abstract class PYIBase {\n\n    public static _pyi() {\n        return {};\n    }\n\n    public static _baisc() {\n        return PYIBase;\n    }\n\n    public static Execption<UseParentClass = any, UsePYIVo = PYIVo>(\n        execption: UseParentClass & any, Vo?: UsePYIVo & any\n    ): any {\n        execption.bind(PYIBase._this);\n        const exinstance = new execption();\n        const ex: Promise<any> = exinstance.throws();\n        if (Vo) {\n            return ex.then((resp) => {\n                return PYIBase._this.ctx = new Vo(resp);\n                // return new Vo(resp);\n            }).catch((err) => {\n                const { errno, errmsg } = exinstance;\n                return PYIBase._this.ctx = (new Vo()).throws(err, errno, errmsg);\n                // return (new Vo()).throws(err, errno, errmsg);\n            });\n        } else {\n            return ex;\n        }\n        // return PYIController._this.ctx.vo = vo;\n    }\n\n    protected static _this: PYIBase;\n\n    public ctx!: Context;\n\n    constructor() {\n        PYIBase._this = this;\n    }\n}\n\nexport interface RuntimeAutoChange {\n    readonly _runtime: (config: AppConfigOption) => any;\n}\n"]}