{"version":3,"sources":["src/service/test.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,sCAA+F;AAC/F,qDAAkD;AAClD,oDAA2C;AAG3C,IAAa,WAAW,mBAAxB,MAAa,WAAY,SAAQ,gBAAU;IAMhC,KAAK,CAAC,WAAW;QACpB,gDAAgD;QAChD,OAAO,kBAAY,CAAC,KAAM,SAAQ,aAAW;YAClC,KAAK,CAAC,MAAM;gBACf,8BAA8B;gBAC9B,OAAO,MAAM,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,iBAAI,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;oBACpD,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;gBAC5C,CAAC,CAAC,CAAC;YACP,CAAC;SACJ,CAAC,CAAC;QACH,6DAA6D;QAC7D,+CAA+C;QAC/C,MAAM;IACV,CAAC;IAEM,KAAK,CAAC,SAAS;QAClB,IAAI,IAAI,GAAQ,EAAE,CAAC;QACnB,CAAC,IAAI,CAAC,GAAG,MAAM,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ,CAAA;AAvBG;IADC,eAAS;8BACE,mBAAQ;uCAAC;AAGrB;IADC,YAAM;;;;8CAcN;AAnBQ,WAAW;IADvB,aAAO;GACK,WAAW,CA0BvB;AA1BY,kCAAW","file":"../../../src/service/test.service.js","sourcesContent":["import { Service, autowired, PYIService, PYIThrows, PYIExecption, throws } from '../../../src';\nimport { DataBase } from '../components/database';\nimport { Test } from '../model/test.model';\n\n@Service\nexport class TestService extends PYIService {\n\n    @autowired\n    public db!: DataBase;\n\n    @throws\n    public async testFindAll() {\n        // tslint:disable-next-line:max-classes-per-file\n        return PYIExecption(class extends TestService implements PYIThrows {\n            public async throws() {\n                // throw new Error('不开心 ...');\n                return await this.db.table(Test).findAll().then((row) => {\n                    return row.map((resp) => resp.toJSON());\n                });\n            }\n        });\n        // return await this.db.table(Test).findAll().then((row) => {\n        //     return row.map((resp) => resp.toJSON());\n        // });\n    }\n\n    public async testQuery() {\n        let data: any = {};\n        [data] = await this.db.instance().query(`SELECT * FROM test1`);\n        return data;\n    }\n}\n"]}